<div fxLayout="column" style="max-width: 680px;">
    <h5 style="margin: 14px 0px;">Transfer Tokens or Schedule a Payment</h5>
    <div fxLayout="row">
        <form (keydown)="keyPress($event)" fxFlex>
            <mat-form-field class="full-width">
                <input matInput name="recipient" [(ngModel)]="payment.recipient" placeholder="recipient ethereum address (e.g. 0x9c5738bfeb500ee7283afa81b265f3c4a81790ce)">
            </mat-form-field>
            <mat-form-field class="full-width">
                <input matInput name="amount" [(ngModel)]="payment.amount" placeholder="amount (e.g. 5.09)">
            </mat-form-field>
            <div *ngIf="isScheduled && !isRecurring" fxLayout="row" fxLayoutAlign="start center">
                <mat-form-field *ngIf="!isRecurring" fxFlex>
                    <input matInput name="startDate" [(ngModel)]="payment.startDate" [min]="minStartDate" [matDatepicker]="paymentDate" placeholder="payment date">
                    <mat-datepicker-toggle matSuffix [for]="paymentDate"></mat-datepicker-toggle>
                    <mat-datepicker #paymentDate></mat-datepicker>
                </mat-form-field>
            </div>
            <div *ngIf="isScheduled && isRecurring" fxLayout="column">
                <div fxLayout="row" fxLayoutAlign="start center">
                    <div style="padding-bottom: 7px;">Beginning on&nbsp;</div>
                    <mat-form-field style="max-width: 136px;">
                        <input class="centered" matInput name="startDate" [(ngModel)]="payment.startDate" [min]="minStartDate" [matDatepicker]="startPicker" placeholder="start date">
                        <mat-datepicker-toggle matSuffix [for]="startPicker"></mat-datepicker-toggle>
                        <mat-datepicker #startPicker></mat-datepicker>
                    </mat-form-field>
                    <div style="padding-bottom: 7px;">&nbsp;repeat every&nbsp;</div>
                    <mat-form-field style="max-width: 48px; margin-right: 4px;" class="full-width">
                        <input class="centered" type="number" matInput [(value)]="payment.periodValue" min="1">
                    </mat-form-field>
                    <mat-form-field style="max-width: 80px;" >
                        <mat-select [(value)]="payment.period">
                            <mat-option value="hours">hours</mat-option>
                            <mat-option value="days">days</mat-option>
                            <mat-option value="weeks">weeks</mat-option>
                            <mat-option value="months">months</mat-option>
                            <mat-option value="years">years</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <div style="padding-bottom: 7px;">&nbsp;for&nbsp;</div>
                    <mat-form-field style="max-width: 48px; margin-right: 4px;" class="full-width">
                        <input class="centered" type="number" matInput [(value)]="payment.numberOfPayments" min="2">
                    </mat-form-field>
                    <div style="padding-bottom: 7px;">&nbsp;payments&nbsp;</div>
                </div>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center">
                <mat-slide-toggle [(ngModel)]="isScheduled" name="schedule-toggle">schedule</mat-slide-toggle>
                <span fxFlex="5"></span>
                <mat-slide-toggle *ngIf="isScheduled" [(ngModel)]="isRecurring" name="recurring-toggle">recurring</mat-slide-toggle>
                <span fxFlex></span>
                <button *ngIf="!isScheduled" mat-button (click)="transferTokens()" [disabled]="!validTransfer()">transfer</button>
                <button *ngIf="isScheduled && !isRecurring" mat-button (click)="scheduleOneTimePayment()" [disabled]="!validOneTimePayment()">schedule one-time payment</button>
                <button *ngIf="isScheduled && isRecurring" mat-button (click)="scheduleRecurringPayment()" [disabled]="!validRecurringPayment()">schedule recurring payment</button>
            </div>
        </form> 
    </div>
</div>